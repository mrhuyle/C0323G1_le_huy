<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Algorithm 11</title>
</head>
<body>
<script>
    let a = [1, 3, 1, 3, 5, 20];
    console.log(sum(a));
    console.log(sumPrime(a))
    console.log(a.indexOf(3) > a.indexOf(1))

    let k = 5;
    console.log(find(k, a))

    //a. Tính tổng số dương lẻ mảng a. Dùng hàm sum()
    function sum(arr) {
        let sum = 0;
        for (let i = 0; i < arr.length; i++) {
            if (arr[i] % 2 != 0 && arr[i] > 0) {
                sum += arr[i];
            }
        }
        return sum;
    }

    //b.Tính tổng các số nguyên tố ở vị trí chắn. Dùng hàm sumPrime()
    function sumPrime(arr) {
        let sumPrime = 0;
        for (let i = 0; i < arr.length; i++) { //Vòng for tìm prime
            if (arr[i] > 1) {
                let count = 0;
                for (let j = 2; j <= arr[i]; j++) {
                    if (arr[i] % j == 0) {
                        count++;
                    }
                }
                if (count == 1 && i % 2 == 0) { //Cộng số nguyên tố vị trí chẵn
                    sumPrime += arr[i];
                }
            }
        }
        return sumPrime;
    }

    //d. Nhập phần tử k, tìm xem k có xuất hiện trong mảng a không. Nếu có chỉ ra phần tử ở
    // vị trí đầu tiên. Dùng hàm find()

    function find(number, arr) {
        for (let i = 0; i < arr.length; i++) {
            if (arr[i] == number) {
                return i;
            }
        }
        alert('Không tìm thấy số ' + number);
    }

    //e. Sắp sếp mảng a theo thứ tự tăng dần. Dùng hàm sort có sử dụng theo function
    console.log(a.sort(compareFunction))

    function compareFunction(a, b) { //tìm hiểu về ý nghĩa compareFn theo link https://stackoverflow.com/questions/41121068/how-does-javascripts-sort-comparefunction-work
        return a - b;
    }

    //Chèn phần tử p vào mảng a sao cho mảng a vẫn đảm bảo tăng dần và xuất lại mảng a.
    let p = 6;
    add(p, a);
    console.log(a);

    function add(p, arr) {
        for (let i = 0; i < arr.length; i++) {
            if (a[i] > p) {
                arr.splice(i, 0, p);
                break;
            }
        }
    }
</script>
</body>
</html>